<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <script src="javascript.js"></script>
  <!-- CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

  <!-- jQuery and JS bundle w/ Popper.js -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"></script>
  <title>Café404</title>
</head>

<body>
  <nav class="navbar  navbar-light bg-dark ">
    <img src="cafe404.png" width="100" height="80" class="d-inline-block align-top" alt="">
    <div class="row">
      <p class="navbar-brand text-light text-center" href="#">
        Tableau de bord
      </p>
      <p class="navbar-brand text-light text-center" id="date" href="#"> </p>
    </div>
    <div class="col-1"></div>
    </div>

  </nav>

  <div class="row d-flex justify-content-around mt-3">

    <div class="card  d-flex justify-center mt-3" style="width: 18rem;">
      <svg width="10em" height="10em" viewBox="0 0 16 16" class="bi bi-laptop -center"  fill="currentColor"
        xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd"
          d="M13.5 3h-11a.5.5 0 0 0-.5.5V11h12V3.5a.5.5 0 0 0-.5-.5zm-11-1A1.5 1.5 0 0 0 1 3.5V12h14V3.5A1.5 1.5 0 0 0 13.5 2h-11z" />
        <path d="M0 12h16v.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5V12z" />
      </svg>
      <div class="card-body">
        <h5 class="card-title"id="name_U">Ordinateur de bureau 1</h5>
        <p class="card-text" id="utilisation">Réserver un ordinateur</p>
        <p id="utilisation2"> </p>
        <button type="button" class="bouton" data-toggle="modal" data-target="#exampleModal"data-whatever="@mdo"
         id="situation">Disponible</button>

        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Ordinateur de bureau </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <form>
                  <div class="form-group">
                    <label for="recipient-name" class="col-form-label">Nom de l'utilisateur</label>
                    <input type="text" class="form-control" id="name">
                  </div>
                  
                </form>
              </div>
              <div class="modal-footer">
                <div class="btn-group">
                  <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Temps de reserve
                  </button>
                  <div class="dropdown-menu">
                    <a class="dropdown-item" id="time" onclick= "set_time('10')" href="#">10min</a>
                    <a class="dropdown-item" id="time" onclick= "set_time('20')"  href="#">20min</a>
                    <a class="dropdown-item" id="time" onclick= "set_time('30')" href="#">30min</a>
                    <a class="dropdown-item" id="time" onclick= "set_time('60')"  href="#">1H</a>
                    <a class="dropdown-item" id="time" onclick= "set_time('120')"  href="#">2H</a>
                    <a class="dropdown-item" id="time" onclick= "set_time('180')" href="#">3H</a>
                    <div class="dropdown-divider"></div>
                  </div>
                </div>
                <button type="button" class="btn btn-secondary" data-dismiss="modal" 
                onclick="defaut();">Annuler</button>
                <button type="button" class="btn btn-primary" 
                 onclick="couleur(); myFunction();"data-dismiss="modal" >Enregistrer</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</body>

</html>
setInterval(function () {
    var d = new Date();
    var h = d.toLocaleTimeString();//heure en haut a droite
    console.log(d.toLocaleTimeString());
    document.getElementById("date").innerHTML = h;
}, 1000)

function set_time(temps) { //donne l'heure de réservation heure de fin et durée de reservation   

    if (temps === "10") {
        document.getElementById("time");
        var T = 10;
        console.log(T);
        document.getElementById("utilisation2").innerHTML = "Le client réserve le pc pendant" + " " + T+"min";
        var d = new Date();
        var h = new Date();
        console.log(d.toLocaleTimeString());
        h.setMinutes(d.getMinutes() + T);
        var h2 = h.toLocaleTimeString();//heure sans la date
        var d2 = d.toLocaleTimeString();//heure sans la date
        console.log(h2);
        document.getElementById("utilisation").innerHTML = "Heure de réservation" + " " + d2 + " " + "Heure de fin de réservation" + " " + h2;
    }
    else if (temps === "20") {
        document.getElementById("time");
        var T = 20;
        console.log(T);
        document.getElementById("utilisation2").innerHTML = "Le client réserve le pc pendant" + " " + T+"min";
        var d = new Date();
        var h = new Date();
        console.log(d.toLocaleTimeString());
        h.setMinutes(d.getMinutes() + T);
        var h2 = h.toLocaleTimeString();//heure sans la date
        var d2 = d.toLocaleTimeString();//heure sans la date
        console.log(h2);
        document.getElementById("utilisation").innerHTML = "Heure de réservation" + " " + d2 + " " + "Heure de fin de réservation" + " " + h2;
    }
    else if (temps === "30") {
        document.getElementById("time");
        var T = 30;
        console.log(T);
        document.getElementById("utilisation2").innerHTML = "Le client réserve le pc pendant" + " " + T+"min";
        var d = new Date();
        var h = new Date();
        console.log(d.toLocaleTimeString());
        h.setMinutes(d.getMinutes() + T);
        var h2 = h.toLocaleTimeString();//heure sans la date
        var d2 = d.toLocaleTimeString();//heure sans la date
        console.log(h2);
        document.getElementById("utilisation").innerHTML = "Heure de réservation" + " " + d2 + " " + "Heure de fin de réservation" + " " + h2;
    }
    else if (temps === "60") {
        document.getElementById("time");
        var T = 60;
        console.log(T);
        document.getElementById("utilisation2").innerHTML = "Le client réserve le pc pendant" + " " + T+"min";
        var d = new Date();
        var h = new Date();
        console.log(d.toLocaleTimeString());
        h.setMinutes(d.getMinutes() + T);
        var h2 = h.toLocaleTimeString();//heure sans la date
        var d2 = d.toLocaleTimeString();//heure sans la date
        console.log(h2);
        document.getElementById("utilisation").innerHTML = "Heure de réservation" + " " + d2 + " " + "Heure de fin de réservation" + " " + h2;
    }
    else if (temps === "120") {
        document.getElementById("time");
        var T = 120;
        console.log(T);
        document.getElementById("utilisation2").innerHTML = "Le client réserve le pc pendant" + " " + T+"min";
        var d = new Date();
        var h = new Date();
        console.log(d.toLocaleTimeString());
        h.setMinutes(d.getMinutes() + T);
        var h2 = h.toLocaleTimeString();//heure sans la date
        var d2 = d.toLocaleTimeString();//heure sans la date
        console.log(h2);
        document.getElementById("utilisation").innerHTML = "Heure de réservation" + " " + d2 + " " + "Heure de fin de réservation" + " " + h2;
    }
    else if (temps === "180") {
        document.getElementById("time");
        var T = 180;
        console.log(T);
        document.getElementById("utilisation2").innerHTML = "Le client réserve le pc pendant" + " " + T+"min";
        var d = new Date();
        var h = new Date();
        console.log(d.toLocaleTimeString());
        h.setMinutes(d.getMinutes() + T);
        var h2 = h.toLocaleTimeString();//heure sans la date
        var d2 = d.toLocaleTimeString();//heure sans la date
        console.log(h2);
        document.getElementById("utilisation").innerHTML = "Heure de réservation" + " " + d2 + " " + "Heure de fin de réservation" + " " + h2;
    }

}





function myFunction() {
    //modifie disponible en indisponible
    var nom_utilisateur = document.getElementById("name").value;
    console.log(nom_utilisateur);
    document.getElementById("name_U").innerHTML = document.getElementById("name").value;

}
function couleur() {
    var element = document.getElementById("situation");
    element.classList.remove("bouton"); //couleur du bouton vert en rouge change le css + modifie le txt
    var element = document.getElementById("situation");
    element.classList.add("indisponible");
    document.getElementById("situation").innerHTML = "Indisponible ";

}

function defaut() {

    var element = document.getElementById("situation");
    element.classList.remove("indisponible");
    document.getElementById("situation").innerHTML = "Disponible";
    document.getElementById("utilisation").innerHTML = "Réserver un Ordinateur ";
    var element = document.getElementById("situation");
    element.classList.add("bouton");
}


//recuperer le temps a partir du moment ou on click sur enregister
//en suite y ajouter le temps choisi ;10min; 20min ;1h ;2h; etc...
//afficher un compte a rebours a coter du temps 







